serenity.console.colors = true

serenity {
  encoding = "UTF-8"
  compress.filenames = true
  take.screenshots = FOR_EACH_ACTION
}

headless.mode = false

webdriver {
  autodownload = true

  timeouts {
    implicitlywait = 0
    webdriverwait = 10000
  }
}

environments {
  default {
    webdriver.driver = chrome
    webdriver.base.url = "https://demo.testim.io"
    webdriver.capabilities."acceptInsecureCerts" = true
    webdriver.capabilities."goog:chromeOptions".args = [
      "--start-maximized",
      "disable-popup-blocking",
      "ignore-certificate-errors",
      "remote-allow-origins=*"
    ]
  }

  firefox {
      webdriver.driver = firefox
      webdriver.base.url = "https://demo.testim.io"
      webdriver.capabilities."acceptInsecureCerts" = true
      webdriver.capabilities."moz:firefoxOptions".args = [
        "-private"
      ]
      webdriver.capabilities."moz:firefoxOptions".prefs = {
        "dom.disable_open_during_load" = true
        "security.cert_pinning.enforcement_level" = 0
      }
    }

}
